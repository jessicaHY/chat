define(["kernel","ui/Flyout","components/ui/confirm"],function(t,e,n){var l=null,o=null;return function(r,i,u){"string"==typeof u&&(u={html:u}),u=$.extend({okText:"Confirm",okClass:"btn-primary",cancelText:"Cancel",cancelClass:"btn-default",html:"Are you sure?",okClick:i||$.noop},u);var c=n(u);return null==l&&(l=new e(c,{onRendered:function(t){var e=this;t.delegate("button[role]","click",function(){e.hide();var t=$(this).attr("role"),n=e._currentAnchor;return"ok"==t&&u.okClick.call(e,n),!1})}}),o=l.element.find("p.text"),t.body.append(c)),u.html?(o.css("width","auto").show().html(u.html),l.element.outerWidth()>300&&o.width(250)):o.hide().html(""),l.show(r,"top"),l}});